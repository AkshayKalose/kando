//////////////////////////////////////////////////////////////////////////////////////////
//   _  _ ____ _  _ ___  ____                                                           //
//   |_/  |__| |\ | |  \ |  |    This file belongs to Kando, the cross-platform         //
//   | \_ |  | | \| |__/ |__|    pie menu. Read more on github.com/kando-menu/kando     //
//                                                                                      //
//////////////////////////////////////////////////////////////////////////////////////////

// SPDX-FileCopyrightText: Simon Schneegans <code@simonschneegans.de>
// SPDX-License-Identifier: MIT

// The menu editor consists of several components:
// * The background is drawn behind all other editor components but in front of the
//   actual pie menu. It basically hides the pie menu while editing.
// * The sidebar is shown alongside the pie menu and can be shown or hidden
//   independently from the main editor. However, it is actually part of the editor
//   and is drawn inside the #kando-editor-container.
// * The other editor components such as the editor-toolbar at the bottom of the screen
//   or the menu configuration widgets in the screen's center. They are visible when
//   the editor is in 'edit-mode'.

$editor-padding-left: 7vw;
$editor-padding-right: 7vw;
$editor-padding-top: 7vh;
$editor-padding-bottom: 7vh;

$preview-properties-ratio: 0.7;
$preview-center-size: 22cqmin;
$preview-child-size: 12cqmin;
$preview-child-distance: 26cqmin;
$preview-grandchild-size: 3cqmin;
$preview-active-outline-offset: 1.5cqmin;
$preview-backlink-width: 4cqmin;
$preview-backlink-inner-length: 8cqmin;
$preview-backlink-outer-length: 30cqmin;
$preview-label-distance: 19cqmin;
$preview-label-max-size: 30cqmin;
$preview-lock-size: 5cqmin;

$toolbar-height: max(250px, 20vh);
$toolbar-padding: 10px;

@import './background/background.scss';
@import './preview/preview.scss';
@import './properties/properties.scss';
@import './sidebar/sidebar.scss';
@import './toolbar/toolbar.scss';

// Handle pointer events -----------------------------------------------------------------

// First, let's take care of the user input. As the editor UI elements are always drawn on
// top of the actual pie menu, we have to make sure that they do not intercept pointer
// events if the editor is not in edit-mode. The sidebar and the show-toolbar button make
// sure to receive pointer events themselves.
#kando-editor-container {
  pointer-events: none;

  &.edit-mode {
    pointer-events: all;
  }
}

#kando-editor-container .icon-container {
  container-type: size;
  width: 100%;
  aspect-ratio: 1 / 1;

  display: flex;
  align-items: center;
  justify-content: center;

  i {
    position: absolute;
    font-size: 75cqi;
    color: white;
  }
}

#kando-editor-container .inline-icon {
  line-height: unset;
  font-size: unset;
  vertical-align: top;
}

@for $i from 1 through 6 {
  .fs-#{$i} {
    font-size: calc(
      #{0.4 + 0.075 * (6-$i+1)}rem + #{0.4 + 0.075 * (6-$i+1)}vw
    ) !important;
  }
}
