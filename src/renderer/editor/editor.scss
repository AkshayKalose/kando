//////////////////////////////////////////////////////////////////////////////////////////
//   _  _ ____ _  _ ___  ____                                                           //
//   |_/  |__| |\ | |  \ |  |    This file belongs to Kando, the cross-platform         //
//   | \_ |  | | \| |__/ |__|    pie menu. Read more on github.com/kando-menu/kando     //
//                                                                                      //
//////////////////////////////////////////////////////////////////////////////////////////

// SPDX-FileCopyrightText: Simon Schneegans <code@simonschneegans.de>
// SPDX-License-Identifier: MIT

// The menu editor consists of several components:
// * The info-sidebar is shown alongside the pie menu and can be shown or hidden
//   independently from the main editor. It is shown if the main #kando-editor-container
//   has the 'sidebar-visible' class.
// * The other editor components such as the editor-toolbar at the bottom of the screen
//   or the menu configuration widgets in the screen's center. These are drawn on top of
//   the actual pie menu, effectively hiding it during editing. These UI elements are
//   shown if the main #kando-editor-container has the class 'toolbar-visible'.

@import './sidebar/sidebar.scss';
@import './toolbar/toolbar.scss';
@import './background/background.scss';
@import './preview/preview.scss';

// Handle pointer events -----------------------------------------------------------------

// First, let's take care of the user input. As the editor UI elements are drawn on top of
// the actual pie menu, we have to make sure that they do not intercept pointer events
// if the editor is hidden. An exception are the buttons for showing the sidebar or for
// entering the edit mode.
#kando-editor-container,
#kando-editor-container.toolbar-visible:not(.sidebar-visible) #kando-editor-sidebar,
#kando-editor-container.toolbar-visible:not(.sidebar-visible) #kando-editor-sidebar > *,
#kando-editor-container.toolbar-visible #show-toolbar-button {
  pointer-events: none;
}

#kando-editor-container.toolbar-visible,
#kando-editor-container.sidebar-visible #kando-editor-sidebar > *,
#kando-editor-container:not(.sidebar-visible) #show-sidebar-button,
#kando-editor-container:not(.toolbar-visible) #show-toolbar-button {
  pointer-events: all;
}
